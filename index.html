<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" /> <!-- Dokumentum karakterk√≥dol√°sa -->
  <meta name="viewport" content="width=device-width, initial-scale=1" /> <!-- Reszponz√≠v n√©zet -->
  <title>N√∂v√©nyfigyel≈ë</title> <!-- Oldalc√≠m -->
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f8ff;
      text-align: center;
      padding: 20px;
    }
    h1 {
      margin-top: 10px;
      margin-bottom: 30px;
      font-size: 2.2em;
      font-weight: bold;
    }
    .card {
      background: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      margin: 20px auto;
      max-width: 400px;
      position: relative;
    }
    .accountCard {
      margin-bottom: 30px;
    }
    input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
      background: #f7fafc;
      box-shadow: none;
      box-sizing: border-box;
    }
    button {
      padding: 10px 20px;
      border-radius: 10px;
      border: none;
      background: #4CAF50;
      color: white;
      cursor: pointer;
      font-size: 16px;
      margin-top: 8px;
      width: 100%;
      box-sizing: border-box;
    }
    #logout { display: none; margin-top: 20px; }
    #plantData { display: block; }
    .gauge-container {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 20px auto;
    }
    .gauge-svg {
      transform: rotate(-90deg);
    }
    .gauge-bg {
      fill: none;
      stroke: #eee;
      stroke-width: 15;
    }
    .gauge-fill {
      fill: none;
      stroke-width: 15;
      stroke-linecap: round;
      transition: stroke-dashoffset 0.5s ease, stroke 0.3s ease;
    }
    .gauge-value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 28px;
      font-weight: bold;
    }
    #addAccountBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: #28a745;
      border-radius: 50%;
      color: white;
      font-size: 36px;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      align-items: center;
      justify-content: center;
      z-index: 1000;
      display: none;
    }
    .deleteBtn {
      position: absolute;
      top: 12px;
      right: 12px;
      font-size: 22px;
      background: transparent;
      border: none;
      color: #8e24aa;
      cursor: pointer;
      padding: 0;
      margin: 0;
      line-height: 1;
      width: auto;
      height: auto;
      box-shadow: none;
      transition: color 0.2s;
    }
    .deleteBtn:hover {
      color: #d32f2f;
      background: none;
    }
    .card h3 {
      margin-top: 40px;
      margin-bottom: 10px;
    }
    #modal {
      display: none;
      position: fixed;
      z-index: 1100;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.42);
      justify-content: center;
      align-items: center;
    }
    #modalContent {
      background: #fff;
      padding: 32px 24px 24px 24px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      width: 350px;
      max-width: 90vw;
      text-align: center;
      position: relative;
      animation: popIn 0.2s;
    }
    @keyframes popIn {
      from { transform: scale(0.94); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    #modalClose {
      position: absolute;
      top: 16px;
      right: 18px;
      font-size: 26px;
      font-weight: bold;
      color: #aaa;
      cursor: pointer;
      z-index: 5;
      user-select: none;
      transition: color 0.2s;
    }
    #modalClose:hover {
      color: #111;
    }
    #modalContent h3 {
      font-size: 1.36em;
      font-weight: bold;
      margin-bottom: 18px;
      margin-top: 6px;
    }
    #modalContent input {
      width: 90%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
      background: #f7fafc;
      box-shadow: none;
    }
    #modalContent button[type="submit"] {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 12px 0;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 18px;
      width: 100%;
      font-weight: 500;
      box-shadow: 0 2px 10px rgba(76,175,80,0.12);
      transition: background 0.2s;
    }
    #modalContent button[type="submit"]:hover {
      background: #43a047;
    }
    #addAccountStatus {
      color: red;
      margin-top: 10px;
      min-height: 20px;
    }
    #accountsContainer {
      margin-top: 30px;
      margin-bottom: 40px;
      display: none;
    }
    #confirmModal {
      display: none;
      position: fixed;
      z-index: 1300;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.45);
      justify-content: center;
      align-items: center;
    }
    #confirmModalContent {
      background: #fff;
      padding: 30px 24px 20px 24px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.18);
      width: 350px;
      max-width: 96vw;
      text-align: center;
      position: relative;
      animation: popIn 0.18s;
    }
    #confirmClose {
      position: absolute;
      top: 16px;
      right: 20px;
      font-size: 25px;
      font-weight: bold;
      color: #bbb;
      cursor: pointer;
      user-select: none;
      transition: color 0.2s;
    }
    #confirmClose:hover { color: #111; }
    .confirm-btn-group {
      margin-top: 18px;
      display: flex;
      justify-content: space-between;
      gap: 25px;
    }
    .confirm-btn {
      flex: 1;
      padding: 9px 0;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      border: none;
      transition: background 0.13s, color 0.13s;
    }
    .confirm-igen       { background: #4CAF50; color: #fff; }
    .confirm-igen:hover { background: #388e3c; }
    .confirm-nem        { background: #eee; color: #222; }
    .confirm-nem:hover  { background: #dadada; }
    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      h1 {
        font-size: 1.8em;
        margin-bottom: 20px;
      }
      .card {
        max-width: 95%;
        padding: 15px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      }
      input, button {
        width: 100%;
        font-size: 18px;
        padding: 12px;
        box-sizing: border-box;
      }
      .gauge-container {
        width: 150px;
        height: 150px;
        margin: 15px auto;
      }
      .gauge-svg {
        width: 150px !important;
        height: 150px !important;
      }
      .gauge-value {
        font-size: 22px !important;
      }
      #addAccountBtn {
        display: flex !important;
        width: 50px;
        height: 50px;
        font-size: 28px;
        bottom: 15px;
        right: 15px;
        z-index: 1100;
        box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      }
      .deleteBtn {
        top: 8px;
        right: 8px;
        font-size: 26px;
        padding: 0;
        margin: 0;
        line-height: 1;
      }
      .card h3 {
        margin-top: 40px !important;
      }
      #modalContent {
        width: 90vw;
        padding: 20px 15px 15px 15px;
      }
    }
  </style>
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <!-- Firebase script module -->
  <script type="module">
    // Firebase modulok import√°l√°sa
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getDatabase, ref, onValue, get } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    // Firebase konfigur√°ci√≥
    const firebaseConfig = {
      apiKey: "AIzaSyCfo3UqEb77ihYOqSJZvIFVr2VRGf6dJ4w",
      authDomain: "plant-monitor-3976f.firebaseapp.com",
      databaseURL: "https://plant-monitor-3976f-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "plant-monitor-3976f",
      storageBucket: "plant-monitor-3976f.firebasestorage.app",
      messagingSenderId: "705425147510",
      appId: "1:705425147510:web:71f15bde879f3672df8157",
      measurementId: "G-890H6FDBYE"
    };

    // Firebase alkalmaz√°s inicializ√°l√°sa
    const app = initializeApp(firebaseConfig);
    // Adatb√°zis referencia
    const db = getDatabase(app);
    // Firebase autentik√°ci√≥ kezel≈ë
    const auth = getAuth();
    // T√°rolt fi√≥kok Map-je a k√©perny≈ëre idom√≠tva (uid => objektum)
    const accounts = new Map();

    // T√°rol√≥kulcs localStorage-hoz
    const STORAGE_KEY = 'storedAccounts';

    // localStorage-b√≥l lek√©ri a fi√≥kokat (t√∂mb), ha nincs vagy hiba, akkor √ºres t√∂mb√∂t ad vissza
    function getStoredAccounts() {
      try {
        const data = localStorage.getItem(STORAGE_KEY);
        return data ? JSON.parse(data) : [];
      } catch {
        return [];
      }
    }
    // localStorage-ba menti a fi√≥kok t√∂mbj√©t JSON-k√©nt
    function setStoredAccounts(accs) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(accs));
    }
    // Egy √∫j fi√≥k (email+uid) hozz√°ad√°sa a helyi t√°rol√≥hoz, ha m√©g nincs benne
    function addStoredAccount(email, uid) {
      const accs = getStoredAccounts();
      if (!accs.some(a => a.uid === uid)) {
        accs.push({ email, uid });
        setStoredAccounts(accs);
      }
    }
    // Egy fi√≥k elt√°vol√≠t√°sa uid alapj√°n a helyi t√°rol√≥b√≥l
    function removeStoredAccount(uid) {
      const accs = getStoredAccounts().filter(a => a.uid !== uid);
      setStoredAccounts(accs);
    }

    // HTML elemek lek√©r√©se v√°ltoz√≥kba
    const loginForm = document.getElementById("loginForm");
    const emailInput = document.getElementById("email");
    const passInput = document.getElementById("password");
    const statusDiv = document.getElementById("status");
    const gaugeValue = document.getElementById("gauge-value");
    const gaugeCircle = document.querySelector(".gauge-fill");
    const logoutBtn = document.getElementById("logout");
    const plantDataCard = document.getElementById("plantData");
    const addAccountBtn = document.getElementById("addAccountBtn");
    const modal = document.getElementById("modal");
    const modalCloseBtn = document.getElementById("modalClose");
    const addNewAccountForm = document.getElementById("addNewAccountForm");
    const newAccountEmail = document.getElementById("newAccountEmail");
    const newAccountPass = document.getElementById("newAccountPass");
    const addAccountStatus = document.getElementById("addAccountStatus");
    const accountsContainer = document.getElementById("accountsContainer");

    // K√∂r sugarak konstans √©rt√©kei a l√°tv√°nyhoz
    const RADIUS = 80;
    const CIRCUMFERENCE = 2 * Math.PI * RADIUS;
    // Inicializ√°l√°s k√∂r param√©terez√©s√©hez: √°tfog√°s hossza
    gaugeCircle.style.strokeDasharray = CIRCUMFERENCE;

    // Az els≈ë felhaszn√°l√≥, akivel dolgozunk (f≈ë user)
    let firstUser = null;

    // Oldal bet√∂lt√©sekor: localStorage-b√≥l t√∂ltj√ºk vissza a k√°rty√°kat √©s √°llapotot
    window.addEventListener('load', () => {
      const stored = getStoredAccounts();
      if (stored.length > 0) {
        stored.forEach(acc => {
          // Mindegyik fi√≥khoz l√©trehoz egy k√°rty√°t az email √©s uid alapj√°n
          addAccountCard({ uid: acc.uid }, acc.email, auth, false);
        });
        // Bejelentkez√©si k√©perny≈ë elk√ºl√∂n√≠t√©se
        hideLoginScreen();
      } else {
        showLoginScreen();
      }
    });

    // Firebase Auth m√≥dos√≠t√°s figyel√©s: √∫j sessionok kezel√©se
    onAuthStateChanged(auth, (user) => {
      if (user) {
        if(!accounts.has(user.uid)) {
          addAccountCard(user, user.email, auth, true);
          addStoredAccount(user.email, user.uid);
          hideLoginScreen();
        }
      } else {
        if(accounts.size === 0){
          showLoginScreen();
        }
      }
    });

    // Bejelentkez√©si ≈±rlap esem√©nykezel√©se
    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusDiv.style.color = "green";
      statusDiv.innerText = "Bejelentkez√©s...";
      try {
        // Firebase hiteles√≠t√©s
        const userCred = await signInWithEmailAndPassword(auth, emailInput.value, passInput.value);
        const user = userCred.user;
        // M√°r l√©tez≈ë fi√≥k ellen≈ërz√©se
        if (accounts.has(user.uid)) {
          statusDiv.style.color = "red";
          statusDiv.innerText = "Ez a fi√≥k m√°r hozz√° van adva!";
          modal.style.display = "none";
          return;
        }
        // √öjonnan l√©trej√∂v≈ë fi√≥k hozz√°ad√°sa, localStorage friss√≠t√©se
        addAccountCard(user, emailInput.value, auth, accounts.size === 0);
        addStoredAccount(emailInput.value, user.uid);
        hideLoginScreen();
      } catch (err) {
        // Hiba eset√©n hiba√ºzenetek kezel√©se
        statusDiv.style.color = "red";
        if (["auth/invalid-credential", "auth/wrong-password", "auth/user-not-found"].includes(err.code)) {
          statusDiv.innerText = "Hib√°s felhaszn√°l√≥n√©v vagy jelsz√≥!";
        } else {
          statusDiv.innerText = "Hiba: " + err.message;
        }
      }
    });

    // Kijelentkez√©si esem√©ny
    logoutBtn.addEventListener("click", async () => {
      if (!firstUser) return;
      await signOut(auth);
      removeAccount(firstUser.uid);
      showLoginScreen();
    });

    // Bejelentkez√©si k√©perny≈ë megjelen√≠t√©se
    function showLoginScreen() {
      loginForm.style.display = "block";
      statusDiv.style.display = "block";
      logoutBtn.style.display = "none";
      plantDataCard.style.display = "block";
      accountsContainer.style.display = "none";
      addAccountBtn.style.display = "none";
      updateGauge(0);
      firstUser = null;
    }

    // Bejelentkez√©si k√©perny≈ë elrejt√©se, f≈ë UI megjelen√≠t√©se
    function hideLoginScreen() {
      loginForm.style.display = "none";
      statusDiv.style.display = "none";
      logoutBtn.style.display = "block";
      plantDataCard.style.display = "none";
      accountsContainer.style.display = "block";
      addAccountBtn.style.display = "flex";
    }

    // Kis k√∂r √©rt√©k√©nek friss√≠t√©se sz√∂veg √©s grafika
    function updateGauge(value) {
      gaugeValue.innerText = value + "%";
      const offset = CIRCUMFERENCE - (value / 100) * CIRCUMFERENCE;
      gaugeCircle.style.strokeDashoffset = offset;
      const color = getGradientColor(value);
      gaugeCircle.style.stroke = color;
      gaugeValue.style.color = color;
    }

    // Sz√≠n√°tmenet meghat√°roz√°sa a k√∂r √©rt√©ke alapj√°n (piros->barna->z√∂ld)
    function getGradientColor(value) {
      let r, g, b;
      if (value <= 50) {
        const ratio = value / 50;
        r = 255;
        g = Math.round(69 + (215 - 69) * ratio);
        b = 0;
      } else {
        const ratio = (value - 50) / 50;
        r = Math.round(255 + (76 - 255) * ratio);
        g = Math.round(215 + (175 - 215) * ratio);
        b = Math.round(0 + (80 - 0) * ratio);
      }
      return `rgb(${r},${g},${b})`;
    }

    // √öj fi√≥k hozz√°ad√°sa gombhoz esem√©ny
    addAccountBtn.addEventListener("click", () => {
      modal.style.display = "flex";
      addAccountStatus.innerText = "";
    });

    // Modal bez√°r√°sa gomb esem√©ny
    modalCloseBtn.addEventListener("click", () => {
      modal.style.display = "none";
    });

    // Modal h√°tt√©rre kattint√°s esem√©ny
    window.addEventListener("click", (e) => {
      if (e.target === modal) modal.style.display = "none";
    });

    // √öj fi√≥k hozz√°ad√°s esem√©ny
    addNewAccountForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = newAccountEmail.value.trim();
      const pass = newAccountPass.value.trim();
      if (!email || !pass) {
        addAccountStatus.style.color = "red";
        addAccountStatus.innerText = "K√©rlek, t√∂ltsd ki mindk√©t mez≈ët!";
        return;
      }
      addAccountStatus.style.color = "green";
      addAccountStatus.innerText = "Bejelentkez√©s folyamatban...";
      try {
        const userCred = await signInWithEmailAndPassword(auth, email, pass);
        const user = userCred.user;
        if (accounts.has(user.uid)) {
          addAccountStatus.style.color = "red";
          addAccountStatus.innerText = "Ez a fi√≥k m√°r hozz√° van adva!";
          modal.style.display = "none";
          return;
        }
        addAccountCard(user, email, auth);
        addStoredAccount(email, user.uid);
        modal.style.display = "none";
        newAccountEmail.value = "";
        newAccountPass.value = "";
      } catch (err) {
        addAccountStatus.style.color = "red";
        if (["auth/invalid-credential","auth/wrong-password","auth/user-not-found"].includes(err.code)) {
          addAccountStatus.innerText = "Hib√°s felhaszn√°l√≥n√©v vagy jelsz√≥!";
        } else {
          addAccountStatus.innerText = "Hiba: " + err.message;
        }
      }
    });

    // Fi√≥k elt√°vol√≠t√°sa a k√©perny≈ër≈ël √©s localStorage-b√≥l
    function removeAccount(uid) {
      if (accounts.has(uid)) {
        accounts.get(uid).card.remove();
        accounts.delete(uid);
      }
      removeStoredAccount(uid);
      if (accounts.size === 0) {
        showLoginScreen();
      }
    }

    // Fi√≥k t√∂rl√©s√©nek meger≈ës√≠t√©se modalban
    let confirmResolve = null;
    function showConfirmModal(message) {
      return new Promise((resolve) => {
        const modal = document.getElementById("confirmModal");
        document.getElementById("confirmText").innerText = message;
        modal.style.display = "flex";
        confirmResolve = resolve;
      });
    }
    function hideConfirmModal() {
      const modal = document.getElementById("confirmModal");
      modal.style.display = "none";
      if (confirmResolve) confirmResolve(false);
      confirmResolve = null;
    }
    window.addEventListener("DOMContentLoaded", () => {
      document.getElementById("confirmIgenBtn").addEventListener("click", () => {
        const modal = document.getElementById("confirmModal");
        modal.style.display = "none";
        if (confirmResolve) confirmResolve(true);
        confirmResolve = null;
      });
      document.getElementById("confirmNemBtn").addEventListener("click", () => {
        hideConfirmModal();
      });
      document.getElementById("confirmClose").addEventListener("click", () => {
        hideConfirmModal();
      });
      window.addEventListener("keydown", (e) => {
        if(e.key === "Escape" && document.getElementById("confirmModal").style.display === "flex") {
          hideConfirmModal();
        }
      });
    });

    // Fi√≥k k√°rtya l√©trehoz√°sa az adatok alapj√°n (t√∂bb fi√≥k megjelen√≠t√©se)
    function addAccountCard(user, email, auth, isMain=false) {
      const card = document.createElement("div");
      card.className = "card accountCard";
      card.innerHTML = `
        <button class="deleteBtn" aria-label="Fi√≥k t√∂rl√©se">‚úñ</button>
        <h3>${email}</h3>
        <div class="gauge-container">
          <svg class="gauge-svg" width="200" height="200" viewBox="0 0 200 200">
            <circle class="gauge-bg" cx="100" cy="100" r="80"></circle>
            <circle class="gauge-fill" cx="100" cy="100" r="80"></circle>
          </svg>
          <div class="gauge-value">0%</div>
        </div>
        ${isMain ? `<button class="logoutBtn">Kijelentkez√©s</button>` : ""}
      `;
      const gaugeValue = card.querySelector(".gauge-value");
      const gaugeCircle = card.querySelector(".gauge-fill");
      gaugeCircle.style.strokeDasharray = 2 * Math.PI * 80;

      // K√∂r √©rt√©k√©nek friss√≠t√©se az adott fi√≥khoz
      function updateAccountGauge(value) {
        gaugeValue.innerText = value + "%";
        const offset = 2 * Math.PI * 80 - (value / 100) * 2 * Math.PI * 80;
        gaugeCircle.style.strokeDashoffset = offset;
        const color = getGradientColor(value);
        gaugeCircle.style.stroke = color;
        gaugeValue.style.color = color;
      }

      // Adatok lek√©r√©se Firebase-b≈ël minden k√°rty√°n√°l, f√ºggetlen√ºl Auth sessiont≈ël (szab√°lyok engedik)
      (async () => {
        const devicesRef = ref(db, `users/${user.uid}/devices`);
        const snapshot = await get(devicesRef);
        if (snapshot.exists()) {
          const devicesData = snapshot.val();
          const firstDeviceId = Object.keys(devicesData)[0];
          const soilRef = ref(db, `users/${user.uid}/devices/${firstDeviceId}/sensorValue`);
          onValue(soilRef, (snap) => {
            if (snap.exists()) {
              updateAccountGauge(snap.val());
              if (isMain && snap.val() < 35) {
                OneSignal.push(function() {
                  OneSignal.sendSelfNotification(
                    "N√∂v√©nyfigyel≈ë",
                    "A n√∂v√©ny szomjas! Locsold meg! üå±üíß",
                    'https://novenyfigyelo.netlify.app',
                    null,
                    { notificationType: 'moistureAlert' }
                  );
                });
              }
            }
          });
        }
      })();

      // Fi√≥k t√∂rl√©se gomb
      const deleteBtn = card.querySelector(".deleteBtn");
      deleteBtn.addEventListener("click", async () => {
        const confirmed = await showConfirmModal("Biztosan t√∂rl√∂d ezt a fi√≥kot?");
        if (confirmed) {
          await signOut(auth);
          removeAccount(user.uid);
        }
      });

      // F≈ë fi√≥kn√°l kijelentkez√©s gomb esem√©ny
      if (isMain) {
        const logoutBtnMain = card.querySelector(".logoutBtn");
        logoutBtnMain.addEventListener("click", async () => {
          await signOut(auth);
          removeAccount(user.uid);
        });
      }

      // K√°rtya hozz√°ad√°sa UI-hoz √©s Map t√°rol√°s
      accountsContainer.appendChild(card);
      accounts.set(user.uid, { user, auth, card });
    }
  </script>
  <script>
    window.OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: "9083ca92-fe8b-460c-8591-3430a5a17fb2",
        notifyButton: {
          enable: true,
        },
        allowLocalhostAsSecureOrigin: true,
        serviceWorkerPath: 'OneSignalSDKWorker.js',
        serviceWorkerUpdaterPath: 'OneSignalSDKUpdaterWorker.js',
      });
    });
  </script>
</head>
<body>
  <h1>N√∂v√©nyfigyel≈ë üå±</h1>
  <div class="card" id="plantData">
    <form id="loginForm">
      <h3>Bejelentkez√©s</h3>
      <input type="email" id="email" placeholder="Email" required /><br />
      <input type="password" id="password" placeholder="Jelsz√≥" required /><br />
      <button type="submit">Bel√©p√©s</button>
    </form>
    <button id="logout">Kijelentkez√©s</button>
    <p id="status">Nincs bejelentkezve</p>
    <div class="gauge-container">
      <svg class="gauge-svg" width="200" height="200" viewBox="0 0 200 200">
        <circle class="gauge-bg" cx="100" cy="100" r="80"></circle>
        <circle class="gauge-fill" cx="100" cy="100" r="80"></circle>
      </svg>
      <div class="gauge-value" id="gauge-value">0%</div>
    </div>
  </div>
  <div id="accountsContainer"></div>
  <button id="addAccountBtn">+</button>
  <div id="modal">
    <div id="modalContent">
      <span id="modalClose">&times;</span>
      <h3>Bejelentkez√©s</h3>
      <form id="addNewAccountForm">
        <input type="email" id="newAccountEmail" placeholder="Email" required /><br />
        <input type="password" id="newAccountPass" placeholder="Jelsz√≥" required /><br />
        <button type="submit">Bel√©p√©s</button>
      </form>
      <p id="addAccountStatus"></p>
    </div>
  </div>
  <div id="confirmModal">
    <div id="confirmModalContent">
      <span id="confirmClose">&times;</span>
      <h3 id="confirmText">Biztosan t√∂rl√∂d ezt a fi√≥kot?</h3>
      <div class="confirm-btn-group">
        <button class="confirm-btn confirm-igen" id="confirmIgenBtn">Igen</button>
        <button class="confirm-btn confirm-nem" id="confirmNemBtn">Nem</button>
      </div>
    </div>
  </div>
</body>
</html>
